% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/error.R
\name{calculate_measured_uncertainty}
\alias{calculate_measured_uncertainty}
\title{Calculate Slope-Dependent Uncertainty for Measured Points}
\usage{
calculate_measured_uncertainty(data)
}
\arguments{
\item{data}{Data frame containing transect profile measurements with columns:
- distance: horizontal distance along transect (m)
- elevation: vertical elevation (m, NAVD88)
- sigma_h: horizontal position uncertainty (m)
- sigma_v: vertical elevation uncertainty (m)
- transect: transect identifier
- year: survey year}
}
\value{
Data frame with added columns:
  - slope: Local slope (dz/dd)
  - uncertainty: Total propagated uncertainty (1-sigma)
  - uncertainty_95ci: 95% confidence interval (1.96 * uncertainty)
}
\description{
Computes total elevation uncertainty by propagating both horizontal (sigma_h)
and vertical (sigma_v) measurement errors through the profile slope.
}
\details{
For each measured point, calculates:
  uncertainty = sqrt(sigma_v^2 + (sigma_h * |slope|)^2)

Where slope is estimated using centered finite differences (forward/backward
differences at endpoints).


Slope calculation methods:
  - Interior points: centered difference (z[i+1] - z[i-1]) / (d[i+1] - d[i-1])
  - First point: forward difference (z[2] - z[1]) / (d[2] - d[1])
  - Last point: backward difference (z[n] - z[n-1]) / (d[n] - d[n-1])
  - Single point: slope = 0 (no neighbors)

The function operates on data grouped by transect and year, so slopes are
calculated within each individual profile.
}
\examples{
\dontrun{
library(dplyr)
# Apply to grouped data
data_with_uncertainty <- profile_data \%>\%
  group_by(transect, year) \%>\%
  group_modify(~calculate_measured_uncertainty(.x)) \%>\%
  ungroup()
}

}
