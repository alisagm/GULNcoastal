% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/auc_weighted.R
\name{identify_positive_segments_weighted}
\alias{identify_positive_segments_weighted}
\title{Identify Continuous Segments Where Weighted Elevation is Positive}
\usage{
identify_positive_segments_weighted(data)
}
\arguments{
\item{data}{Dataframe with distance and elev_weighted columns}
}
\value{
List with two components:
  - data: Input dataframe with added columns:
      * above_zero: Logical, TRUE if elev_weighted > 0
      * segment_change: Logical, marks transitions between positive/negative
      * segment: Integer segment ID (NA for negative regions)
  - segments: Summary dataframe with one row per positive segment:
      * segment: Segment ID
      * distance_min: Left boundary of segment
      * distance_max: Right boundary of segment
      * n_points: Number of points in segment
}
\description{
Segments a profile into positive (above sea level) and negative (below sea level)
regions based on probability-weighted elevations. Only positive regions receive
segment IDs; negative regions are marked with NA.
}
\details{
Segmentation Logic:
  1. Mark all points as above_zero (TRUE) or below (FALSE)
  2. Detect transitions with segment_change flag
  3. Increment segment_id at each transition
  4. Only assign segment numbers when above_zero == TRUE
  5. Use ceiling(segment_id / 2) to convert alternating IDs to 1,1,2,2,3,3...

Example:
  Distance | elev_weighted | above_zero | segment_id | segment
  0        | +0.5          | TRUE       | 1          | 1
  5        | +0.2          | TRUE       | 1          | 1
  10       | -0.02         | FALSE      | 2          | NA
  15       | +0.08         | TRUE       | 3          | 2
}
