% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transect_analysis.R
\name{run_transect_analysis}
\alias{run_transect_analysis}
\title{Run Complete Transect Analysis Pipeline}
\usage{
run_transect_analysis(
  data_dir,
  processed_dir = ".",
  output_dir = ".",
  accuracy_table_path = NULL,
  special_cases_path = NULL,
  save_results = TRUE,
  verbose = FALSE
)
}
\arguments{
\item{data_dir}{Character. Path to directory containing raw transect CSV
files. Each CSV must have columns: transect, year, distance, elevation.
Park is inferred from filename (must contain "GUIS" or "PAIS").}

\item{processed_dir}{Character. Path to directory to save intermediate
result data files. Created if it doesn't exist.}

\item{output_dir}{Character. Path to save results. Default is current
working directory. Created if it doesn't exist.}

\item{accuracy_table_path}{Character or NULL. Path to accuracy_values.csv
file containing measurement uncertainty by park/year. If NULL (default),
looks for "accuracy_values.csv" in \code{data_dir}.}

\item{special_cases_path}{Character or NULL. Path to special_cases.csv
file containing transect-specific accuracy overrides. If NULL (default),
looks for "special_cases.csv" in \code{data_dir}. This file is optional.}

\item{save_results}{Logical. If TRUE (default), saves results using
\code{export_all_results()}.}

\item{verbose}{Logical. If TRUE, prints progress messages. Default FALSE.}
}
\value{
A list (returned invisibly) containing:
  \describe{
    \item{data}{Data frame. Final processed transect data with all point
      types (measured, interpolated, extrapolated, common_min), measurement
      accuracy, and uncertainty values.}
    \item{auc_results}{Data frame. AUC results by transect-year with columns:
      transect, year, auc, auc_upper, auc_lower, auc_sigma, auc_uncertainty_pct,
      overlap_m, overlap_pct, transect_length, n_segments, segment_info, segments.}
    \item{metadata}{List. Processing metadata including timestamp, counts,
      parks, years, and workflow version.}
  }
}
\description{
Executes the full transect analysis workflow from raw CSV import through
probability-weighted AUC calculation with uncertainty propagation.
}
\section{Pipeline Steps}{

\enumerate{
  \item Import raw topography data from CSV files
  \item Clean and deduplicate observations
  \item Load accuracy tables (measurement uncertainty by year/park)
  \item Assign year-specific accuracy values (sigma_h, sigma_v)
  \item Identify zero-elevation crossings with uncertainty quantification
  \item Calculate common minimum distances for cross-island transects
  \item Calculate probability-weighted AUC with error propagation
}
}

\section{Accuracy Table Format}{

The accuracy_values.csv file must contain columns:
\itemize{
  \item park: Park code (e.g., "GUIS", "PAIS")
  \item year: Survey year
  \item sigma_h: Horizontal measurement uncertainty (meters)
  \item sigma_v: Vertical measurement uncertainty (meters)
}
}

\section{Special Cases Format}{

The optional special_cases.csv file allows transect-specific overrides:
\itemize{
  \item park: Park code
  \item transect: Transect identifier
  \item year: Survey year (or "all" for all years)
  \item sigma_h: Override horizontal uncertainty
  \item sigma_v: Override vertical uncertainty
}
}

\examples{
\dontrun{
# Basic usage with accuracy table in data directory
results <- run_transect_analysis(
  data_dir = "path/to/raw/data",
  output_dir = "path/to/output"
)

# With accuracy tables in separate location
results <- run_transect_analysis(
  data_dir = "path/to/raw/data",
  output_dir = "path/to/output",
  accuracy_table_path = "config/accuracy_values.csv",
  special_cases_path = "config/special_cases.csv"
)

# Access results
head(results$auc_results)
summary(results$data)
}

}
\seealso{
\code{\link{import_transects_park}} for data import details
\code{\link{assign_accuracy}} for accuracy assignment
\code{\link{calculate_auc_with_uncertainty}} for AUC calculation
\code{\link{export_all_results}} for output format
}
